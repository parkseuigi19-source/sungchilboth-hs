<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>학급 리포트 | 성취봇-HS</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>

<body>
    <nav class="navbar">
        <div class="navbar-container">
            <a href="/teacher" class="navbar-brand">👩‍🏫 성취봇-HS 교사</a>
            <ul class="navbar-menu">
                <li><a href="/teacher/dashboard" class="navbar-link">대시보드</a></li>
                <li><a href="/teacher/class-report" class="navbar-link active">학급 리포트</a></li>
                <li><a href="/teacher/batch-grading" class="navbar-link">일괄 채점</a></li>
                <li><a href="#" class="navbar-link" onclick="Utils.logout()">로그아웃</a></li>
            </ul>
        </div>
    </nav>

    <div class="page-wrapper">
        <div class="container main-content">
            <h1>📊 학급 성취도 리포트</h1>
            <p class="text-medium mb-lg">학급 전체의 성취도를 분석하고 리포트를 생성합니다</p>

            <!-- 리포트 생성 폼 -->
            <div class="card card-purple mb-lg">
                <div class="card-header">
                    <h3 class="card-title">새 리포트 생성</h3>
                </div>
                <div class="card-body">
                    <div class="grid grid-3 gap-md">
                        <div class="form-group">
                            <label class="form-label">학급명</label>
                            <input type="text" id="className" class="form-input" placeholder="예: 1학년 1반">
                        </div>
                        <div class="form-group">
                            <label class="form-label">과목</label>
                            <select id="subject" class="form-select">
                                <option value="국어">국어</option>
                                <option value="문법">문법</option>
                                <option value="문학">문학</option>
                                <option value="독서">독서</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">리포트 유형</label>
                            <select id="reportType" class="form-select">
                                <option value="weekly">주간</option>
                                <option value="monthly">월간</option>
                                <option value="unit">단원별</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">학생 목록 (쉼표로 구분)</label>
                        <textarea id="studentList" class="form-textarea" rows="3"
                            placeholder="예: 김철수, 이영희, 박민수"></textarea>
                    </div>

                    <button class="btn btn-primary btn-lg" onclick="generateReport()" style="width: 100%;">
                        📄 리포트 생성
                    </button>
                </div>
            </div>

            <!-- 생성된 리포트 목록 -->
            <div class="card">
                <div class="card-header flex-between">
                    <h3 class="card-title">생성된 리포트</h3>
                    <button class="btn btn-ghost btn-sm" onclick="loadReports()">🔄 새로고침</button>
                </div>
                <div class="card-body">
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>학급</th>
                                    <th>과목</th>
                                    <th>유형</th>
                                    <th>학생 수</th>
                                    <th>평균 점수</th>
                                    <th>생성일</th>
                                    <th>다운로드</th>
                                </tr>
                            </thead>
                            <tbody id="reportList">
                                <tr>
                                    <td colspan="7" class="text-center text-medium">데이터를 불러오는 중...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/js/components.js"></script>
    <script src="/static/js/class-report.js"></script>
</body>

</html>